\documentclass[doktyp=studarbeit]{TUBAFarbeiten}

\usepackage{selinput}% Auswahl der Dateikodierung (ansi,latin1,utf8,...)
\usepackage[T1]{fontenc}% Einstellung Fontencoding
\usepackage{amsmath}
\usepackage[section]{placeins}
%\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{listings}
% \usepackage{hyperref}
\usepackage{csquotes}% Einstellung zu Anführungszeichen; wird von biblatex.sty gefordert

\newcommand\tab[1][5mm]{\hspace*{#1}}
\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}
	\SelectInputMappings{adieresis={ä},germandbls={ß},Euro={€}}% Zeichenzuordnung für selinput.sty

% Packages for images and caption in figures
\usepackage{graphicx}
\graphicspath{ {./img/} }
\usepackage{subcaption}

\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{CStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}

\usepackage[backend=biber,sortlocale=de_DE_phonebook]{biblatex}
\addbibresource{references.bib}

%\usepackage{setspace}% Einstellungen Zeilenabstand
	%\onehalfspacing% Einstellungen Zeilenabstand

\TUBAFFakultaet{Fakultät für Mathematik und Informatik}
\TUBAFInstitut{Institut für Informatik}

\TUBAFTitel[OpenGL Game: Achtung, die Kurve!]{OpenGL Game: Achtung, die Kurve!}
\TUBAFBetreuer{M.Sc. Jonas Treumer}
\TUBAFKorrektor{M.Sc. Ben Lorenz}
\TUBAFAutor[Al Nomer/Valdés]{Simon Al Nomer\newline Hernán Felipe Valdés González}
\TUBAFStudiengang{Bachelor Angewandte Informatik}
\TUBAFMatrikel{64\,082\newline 63\,952}
\TUBAFDatum[2020-10-19]{19. Oktober 2020}

\begin{document}

\maketitle

\TUBAFErklaerungsseite

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\addsec{Zusammenfassung}% wird die KLassenoption kapitel=true gewählt, so muß hier \addchap{Zusammenfassung} stehen
Implementierung des Spieles ''Achtung, die Kurve'' in C++ mit OpenGL für die 
Lehreveranstaltung ''Multimedia''.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\KOMAoptions{
	listof=totoc	% Abbildungs- und Tabellenverzeichnis im Inhaltsverzeichnis
}

\tableofcontents
\listoffigures
\listoftables

\newpage

\section{Einführung}

Achtung, Die Kurve ist ein Multiplayer-Spiel, welches im Jahr 1995 von 
Filip Oščádal und Kamil Doležal in DOS entwickelt wurde. Im Jahr 2010 wurde 
eine neue Version des Spiels unter dem Namen “Achtung, die Kurve! Flash Remake”
veröffentlicht. Diese Version ist mit Adobe Flash von Geert van den Burg 
entwickelt worden und kann online gespielt werden.

Nachdem das Spiel großen Zuspruch fand, beschloss van den Burg, sich mit 
Robin Brouns zusammenzuschließen und eine Fortsetzung zu entwickeln, welche 
2011 unter den Namen Curve Fever (Originaltitel “Achtung, die Kurve! 2”) 
veröffentlicht wurde und online gespielt werden kann.

In den folgenden Jahren wurden dem Spiel immer weiter neue Features 
hinzugefügt wie zum Beispiel verschiedene Boni, die Möglichkeit, in einem Team 
zu spielen, oder das Bestehen einer Rangliste.

2015 sammelte van den Burg ein Team um sich, um eine neue Version des Spiels in 
HTML5 zu implementieren, welche im September 2016 auf den Markt kam.

\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{dos-version.png}
	\caption{Original DOS Version von Achtung, die Kurve! (1995)}
	\label{fig:dos-version}
\end{figure}

\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{flash-version.png}
	\caption{Flash remake von Achtung, die Kurve! (2010)}
	\label{fig:flash-version}
\end{figure}

Die Implementierung unseres Spiels basiert auf die Version von 1995 in 
Kombination mit dem Stil der Flash Version.

\subsection{Spielmechanik}

Im Spiel können bis zu 6 Spieler zusammen mit einem Bildschirm und einer 
Tastatur spielen. Jeder Spieler besitzt zwei vorbestimmten Tasten, die rechts 
und links symbolisieren. Um das Spiel zu starten, müssen mindestens 
2 Spieler spielen.  Der Ziel vom Spiel ist, dass der Spieler am Leben 
solange wie möglich bleibt.

Jeder Spieler wird mit einem Kreis dargestellt, der mit jeder Bewegung einen 
Pfad mit der Farbe des Spielers hinterlässt. Der Spieler darf nur nach rechts 
und links die Richtung seiner Bewegung ändern. Wenn der Spieler nicht reagiert, 
wird er weiter in der alten Richtung sich bewegen.

Ein Spieler verliert, wenn er gegen seine eigene Linie, die Linie anderen 
Spieler,  oder den Rand gestoßen hat. Das Spiel ist zu Ende wenn nur ein 
Spieler noch am Leben ist.

\section{Softwaredokumentation}

Unseres Projekt hat als basis den Code, der zusammen während der Vorlesung 
erstellt wurde, genommen und in C++ migriert. 
Die Entscheidung, um das Spiel in C++ statt C zu programmieren, lag 
insbesondere wegen der Standardbibliotheken von C++ und deren implementierten 
Daten Strukturen sowie die Eigenschaft mit Klassen zu programmieren.

\subsection{GameState}

Das Spiel benutzt das State Design-Pattern, in dem wir einen Zustandsautomat
simulieren. Der Startzustand unseres Automaten ist GAME\_MENU. 

\begin{figure}
    \centering
    \includegraphics[width=0.7\linewidth]{state_machine.png}
	\caption{Darstellung unseren Zustandsautomat}
	\label{fig:state-machine}
\end{figure}

\paragraph{GAME\_MENU}
Es wird das Menü für den Auswahl von Spieler gezeigt. Man kann nur zu den
nächsten Zustand gehen, GAME\_TRANSITION, in dem man mindestens 2 Spieler
ihre Anwesenheit bestätigen und dann die SPACE-Taste gedrückt wird.
\paragraph{GAME\_TRANSITION}
Das Spiel ist bereit zu starten. Alle Spieler sind in ihren Plätze und ihren
Position wird mit einem gefarbten Kreis gezeichnet. Um das Spiel zu starten
muss die Leertaste gedrückt werden und der neuer Zustand wird GAME\_ACTIVE sein.
Um zurück ins Menü zu gehen, muss die ESCAPE-Taste gedrück werden und der neuer
Zustand wird GAME\_ESCAPE.
\paragraph{GAME\_ACTIVE}
Das Spiel läuft und die Spieler dürfen anderen schließen und in die Irre führen.
Man kann in jedem Moment die SPACE-Taste drücken, um das Spiel zu pausieren,
und der neuer Zustand wird GAME\_PAUSE. Man kann auch mit der ESCAPE-Taste das
Spiel abbrechen und zurück ins Menü gehen, dann der neuer Zustand wird 
GAME\_ESCAPE. Wenn nur ein Spieler übrig auf dem Feld ist, der Zustand wird 
automatisch zu GAME\_WIN oder GAME\_OVER gehen, abhängig ob die maximalle 
Punktzahl erreicht wurde oder nicht.
\paragraph{GAME\_PAUSE}
Das Spiel ist pausiert. Man kann zurück zu GAME\_ACTIVE mit der SPACE-Taste
gehen oder zu GAME\_ESCAPE mit der ESCAPE-Taste.
\paragraph{GAME\_ESCAPE}
Zwischenzustand um die Daten wieder ins Default bringen. Es wird direkt zu 
GAME\_MENU gehen.
\paragraph{GAME\_WIN}
Zwischenzustand um den Gewinner der Runde zu zeigen (mit einem blinken Namen).
Nach ein paar Frames wird direkt zu GAME\_TRANSITION gehen umd eine neue Runde
zu starten. 
\paragraph{GAME\_OVER}
Es wird eine Liste mit der gesamten Punktzahl gezeigt. Wenn man den SPACE-Taste
druck, geht man zu GAME\_MENU und startet alles von vorne.

\subsection{Display}

\subsection{Game}

\subsection{LineMesh}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-1.png}
	\caption{Schritt 1}
	\label{fig:line-1}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-2.png}
	\caption{Schritt 2}
	\label{fig:line-2}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-3.png}
	\caption{Schritt 3}
	\label{fig:line-3}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-3.png}
	\caption{Schritt 3}
	\label{fig:line-3}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-4.png}
	\caption{Schritt 4}
	\label{fig:line-4}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-5.png}
	\caption{Schritt 5}
	\label{fig:line-5}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-6.png}
	\caption{Schritt 6}
	\label{fig:line-6}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-7.png}
	\caption{Schritt 7}
	\label{fig:line-7}
\end{figure}
\begin{figure}[!h]
	\centering
	\includegraphics[width=0.5\linewidth]{Schlangenlinie-8.png}
	\caption{Schritt 8}
	\label{fig:line-8}
\end{figure}

\printbibliography[heading=bibintoc]
\end{document}